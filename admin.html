<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูพูู ูุฏุฑุช | ุฏฺฉุชุฑ ุบูุงูุฑุถุง ุฑุถุงุฆ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Vazir, Tahoma, sans-serif; }
        @font-face {
            font-family: Vazir;
            src: url('https://cdn.fontcdn.ir/Font/Persian/Vazir/Vazir.woff2') format('woff2');
        }
        
        body {
            background: #1a2634;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        #login {
            background: white;
            padding: 40px;
            border-radius: 30px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
        }
        
        #panel {
            background: #f8fafc;
            border-radius: 30px;
            width: 100%;
            max-width: 1400px;
            display: none;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
        }
        
        .container {
            display: flex;
            min-height: 85vh;
        }
        
        .sidebar {
            width: 280px;
            background: #2c3e50;
            color: white;
            border-radius: 30px 0 0 30px;
            padding: 30px 0;
            overflow-y: auto;
        }
        
        .main {
            flex: 1;
            padding: 30px;
            background: #f8fafc;
            border-radius: 0 30px 30px 0;
            max-height: 85vh;
            overflow-y: auto;
        }
        
        .profile {
            text-align: center;
            padding: 0 20px 25px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .menu {
            list-style: none;
            margin-top: 25px;
        }
        
        .menu li {
            padding: 14px 25px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            color: #e2e8f0;
            border-right: 4px solid transparent;
            transition: all 0.2s;
            font-size: 0.95rem;
        }
        
        .menu li:hover {
            background: rgba(255,255,255,0.1);
            color: white;
        }
        
        .menu li.active {
            background: rgba(255,255,255,0.15);
            color: white;
            border-right-color: #ffd700;
        }
        
        .menu li i {
            width: 24px;
            text-align: center;
        }
        
        .section {
            display: none;
        }
        
        .section.active {
            display: block;
        }
        
        .card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.02);
        }
        
        .form-group {
            margin-bottom: 18px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            color: #2d3748;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 0.95rem;
            transition: all 0.2s;
        }
        
        .form-control:focus {
            border-color: #4299e1;
            outline: none;
            box-shadow: 0 0 0 3px rgba(66,153,225,0.1);
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: #4299e1;
            color: white;
            transition: all 0.2s;
            font-size: 0.95rem;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(66,153,225,0.2);
        }
        
        .btn-success {
            background: #48bb78;
        }
        
        .btn-warning {
            background: #ed8936;
        }
        
        .btn-purple {
            background: #9f7aea;
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }
        
        .grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }
        
        .list-item {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .status {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-left: 8px;
        }
        
        .status-connected { background: #48bb78; box-shadow: 0 0 8px #48bb78; }
        .status-disconnected { background: #f56565; }
        
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-right: 10px;
        }
        
        .badge-blue { background: #bee3f8; color: #2c5282; }
        .badge-green { background: #c6f6d5; color: #22543d; }
        .badge-gold { background: #fefcbf; color: #744210; }
        .badge-purple { background: #e9d8fd; color: #553c9a; }
        
        .category-header {
            display: flex;
            align-items: center;
            margin: 30px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .category-header i {
            font-size: 24px;
            margin-left: 12px;
            color: #4299e1;
        }
        
        .gallery-preview {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .gallery-item {
            background: #f7fafc;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            border: 2px dashed #cbd5e0;
        }
        
        .gallery-item i {
            font-size: 32px;
            color: #a0aec0;
            margin-bottom: 10px;
        }
        
        @media (max-width: 1200px) {
            .grid-4 { grid-template-columns: repeat(2, 1fr); }
            .gallery-preview { grid-template-columns: repeat(3, 1fr); }
        }
        
        @media (max-width: 768px) {
            .container { flex-direction: column; }
            .sidebar { width: 100%; border-radius: 30px 30px 0 0; }
            .main { border-radius: 0 0 30px 30px; }
            .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
            .gallery-preview { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
    <!-- ุตูุญู ูุฑูุฏ -->
    <div id="login">
        <div style="text-align: center; margin-bottom: 30px;">
            <i class="fas fa-user-md" style="font-size: 64px; color: #4299e1;"></i>
            <h2 style="margin-top: 15px; color: #2d3748;">ุฏฺฉุชุฑ ุบูุงูุฑุถุง ุฑุถุงุฆ</h2>
            <p style="color: #718096; margin-top: 5px;">ูพูู ูุฏุฑุช ุฌุงูุน ุขุซุงุฑ ู ุงูุชุดุงุฑุงุช</p>
        </div>
        
        <div class="form-group">
            <input type="password" id="password" class="form-control" placeholder="ุฑูุฒ ุนุจูุฑ">
        </div>
        
        <button onclick="login()" class="btn" style="width: 100%; justify-content: center;">
            <i class="fas fa-lock-open"></i> ูุฑูุฏ ุจู ูพูู
        </button>
    </div>
    
    <!-- ูพูู ูุฏุฑุช -->
    <div id="panel">
        <div class="container">
            <!-- ุณุงุฏุจุงุฑ -->
            <div class="sidebar">
                <div class="profile">
                    <i class="fas fa-user-circle" style="font-size: 72px; color: #a0c0e0;"></i>
                    <h3 style="margin-top: 15px;">ุฏฺฉุชุฑ ุบูุงูุฑุถุง ุฑุถุงุฆ</h3>
                    <p style="color: #a0c0e0; font-size: 0.85rem;">ูพฺููุดฺฏุฑ ููุด ูุตููุน | ููุณูุฏู | ฺฉูุดฺฏุฑ</p>
                    <div style="display: flex; justify-content: center; gap: 20px; margin-top: 15px;">
                        <span><span class="status" id="faStatus"></span> ูุงุฑุณ</span>
                        <span><span class="status" id="enStatus"></span> ุงูฺฏูุณ</span>
                    </div>
                </div>
                
                <ul class="menu">
                    <li class="active" data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i> ุฏุงุดุจูุฑุฏ
                    </li>
                    <li data-section="github">
                        <i class="fab fa-github"></i> ุงุชุตุงู GitHub
                    </li>
                    
                    <!-- ฺฉุชุงุจโูุง ู ุขุซุงุฑ -->
                    <li style="margin-top: 15px; padding-right: 25px; font-size: 0.8rem; color: #a0c0e0;">
                        <i class="fas fa-book"></i> ูุฏุฑุช ุขุซุงุฑ
                    </li>
                    <li data-section="books-published">
                        <i class="fas fa-book-open"></i> ฺฉุชุงุจโูุง ููุชุดุฑ ุดุฏู
                        <span class="badge badge-green" id="publishedBooksCount">4</span>
                    </li>
                    <li data-section="books-novel">
                        <i class="fas fa-feather"></i> ุฑูุงู ู ุฏุงุณุชุงู
                        <span class="badge badge-blue" id="novelBooksCount">1</span>
                    </li>
                    <li data-section="books-educational">
                        <i class="fas fa-graduation-cap"></i> ฺฉุชุงุจโูุง ุขููุฒุด
                        <span class="badge badge-purple" id="educationalBooksCount">1</span>
                    </li>
                    <li data-section="books-pending">
                        <i class="fas fa-clock"></i> ุฏุฑ ุญุงู ุงุฎุฐ ูุฌูุฒ
                        <span class="badge badge-gold" id="pendingBooksCount">13</span>
                    </li>
                    
                    <!-- ฺฏุงูุฑ ู ุงุณูุงุฏุดู -->
                    <li style="margin-top: 15px; padding-right: 25px; font-size: 0.8rem; color: #a0c0e0;">
                        <i class="fas fa-images"></i> ฺฏุงูุฑ ู ุฑุณุงูู
                    </li>
                    <li data-section="gallery-art">
                        <i class="fas fa-paint-brush"></i> ฺฏุงูุฑ ุขุซุงุฑ ููุฑ
                    </li>
                    <li data-section="gallery-literary">
                        <i class="fas fa-quill"></i> ฺฏุงูุฑ ุขุซุงุฑ ุงุฏุจ
                    </li>
                    <li data-section="slideshow-books">
                        <i class="fas fa-play-circle"></i> ุงุณูุงุฏุดู ฺฉุชุงุจโูุง
                    </li>
                    <li data-section="slideshow-articles">
                        <i class="fas fa-sliders-h"></i> ุงุณูุงุฏุดู ููุงูุงุช
                    </li>
                    
                    <!-- ุณุงุฑ -->
                    <li style="margin-top: 15px; padding-right: 25px; font-size: 0.8rem; color: #a0c0e0;">
                        <i class="fas fa-ellipsis-h"></i> ุณุงุฑ
                    </li>
                    <li data-section="articles">
                        <i class="fas fa-file-alt"></i> ููุงูุงุช
                    </li>
                    <li data-section="notes">
                        <i class="fas fa-pen"></i> ุงุฏุฏุงุดุชโูุง
                    </li>
                    <li data-section="supporters">
                        <i class="fas fa-trophy"></i> ุญุงูุงู
                    </li>
                    <li data-section="endowment">
                        <i class="fas fa-hand-holding-heart"></i> ููู ุฏุงูุด
                    </li>
                    
                    <li style="margin-top: 30px; border-top: 1px solid rgba(255,255,255,0.1);" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> ุฎุฑูุฌ
                    </li>
                </ul>
            </div>
            
            <!-- ูุญุชูุง ุงุตู -->
            <div class="main">
                <!-- ============ ุฏุงุดุจูุฑุฏ ============ -->
                <div id="section-dashboard" class="section active">
                    <h2 style="margin-bottom: 25px; color: #2d3748;">๐ ุฏุงุดุจูุฑุฏ ูุฏุฑุช</h2>
                    
                    <div class="grid-4">
                        <div style="background: linear-gradient(135deg, #4299e1, #3182ce); color: white; padding: 25px; border-radius: 20px;">
                            <i class="fas fa-book" style="font-size: 32px; margin-bottom: 15px;"></i>
                            <div style="font-size: 36px; font-weight: bold;" id="dashboardBooksTotal">19</div>
                            <div>ฺฉู ฺฉุชุงุจโูุง</div>
                            <div style="font-size: 12px; margin-top: 10px; opacity: 0.9;">ด ููุชุดุฑ ุดุฏู + ฑณ ุฏุฑ ูุฌูุฒ + ฒ ุฏฺฏุฑ</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #48bb78, #38a169); color: white; padding: 25px; border-radius: 20px;">
                            <i class="fas fa-file-alt" style="font-size: 32px; margin-bottom: 15px;"></i>
                            <div style="font-size: 36px; font-weight: bold;" id="dashboardArticlesTotal">18</div>
                            <div>ููุงูุงุช</div>
                            <div style="font-size: 12px; margin-top: 10px; opacity: 0.9;">ุซุจุช ุจูโุงูููู</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #ed8936, #dd6b20); color: white; padding: 25px; border-radius: 20px;">
                            <i class="fas fa-pen" style="font-size: 32px; margin-bottom: 15px;"></i>
                            <div style="font-size: 36px; font-weight: bold;" id="dashboardNotesTotal">0</div>
                            <div>ุงุฏุฏุงุดุชโูุง</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #9f7aea, #805ad5); color: white; padding: 25px; border-radius: 20px;">
                            <i class="fas fa-trophy" style="font-size: 32px; margin-bottom: 15px;"></i>
                            <div style="font-size: 36px; font-weight: bold;" id="dashboardSupportersTotal">0</div>
                            <div>ุญุงูุงู</div>
                        </div>
                    </div>
                    
                    <div class="grid-2" style="margin-top: 25px;">
                        <div class="card">
                            <h3 style="margin-bottom: 20px;">๐ ุขุซุงุฑ ู ุงูุชุดุงุฑุงุช</h3>
                            <div style="display: flex; flex-direction: column; gap: 12px;">
                                <div style="display: flex; justify-content: space-between;">
                                    <span>ฺฉุชุงุจโูุง ููุชุดุฑ ุดุฏู:</span>
                                    <span style="font-weight: bold; color: #48bb78;" id="statPublishedBooks">4</span>
                                </div>
                                <div style="display: flex; justify-content: space-between;">
                                    <span>ุฑูุงู ู ุฏุงุณุชุงู:</span>
                                    <span style="font-weight: bold; color: #4299e1;" id="statNovelBooks">1</span>
                                </div>
                                <div style="display: flex; justify-content: space-between;">
                                    <span>ฺฉุชุงุจโูุง ุขููุฒุด:</span>
                                    <span style="font-weight: bold; color: #9f7aea;" id="statEducationalBooks">1</span>
                                </div>
                                <div style="display: flex; justify-content: space-between;">
                                    <span>ุฏุฑ ุญุงู ุงุฎุฐ ูุฌูุฒ:</span>
                                    <span style="font-weight: bold; color: #ed8936;" id="statPendingBooks">13</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-top: 15px; padding-top: 15px; border-top: 1px solid #e2e8f0;">
                                    <span style="font-weight: bold;">ุฌูุน ฺฉู:</span>
                                    <span style="font-weight: bold; font-size: 1.2rem;">19</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <h3 style="margin-bottom: 20px;">๐ ูุถุนุช ุงุชุตุงู</h3>
                            <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #edf2f7;">
                                <span><span class="status" id="dashboardFaStatus"></span> ุฑูพู ูุงุฑุณ</span>
                                <span id="dashboardFaText">ุนุฏู ุงุชุตุงู</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 12px 0;">
                                <span><span class="status" id="dashboardEnStatus"></span> ุฑูพู ุงูฺฏูุณ</span>
                                <span id="dashboardEnText">ุนุฏู ุงุชุตุงู</span>
                            </div>
                            <button onclick="document.querySelector('[data-section=github]').click()" style="margin-top: 20px; background: #4299e1; color: white; border: none; padding: 12px; border-radius: 12px; width: 100%; cursor: pointer;">
                                <i class="fas fa-cog"></i> ุชูุธู ุงุชุตุงู
                            </button>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 15px;">๐ ุงูุชุดุงุฑ ุณุฑุน</h3>
                        <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px;">
                            <button onclick="quickPublish('published')" style="background: #48bb78; color: white; border: none; padding: 12px; border-radius: 12px; cursor: pointer;">
                                <i class="fas fa-book-open"></i> ฺฉุชุงุจ ููุชุดุฑ ุดุฏู
                            </button>
                            <button onclick="quickPublish('novel')" style="background: #4299e1; color: white; border: none; padding: 12px; border-radius: 12px; cursor: pointer;">
                                <i class="fas fa-feather"></i> ุฑูุงู
                            </button>
                            <button onclick="quickPublish('educational')" style="background: #9f7aea; color: white; border: none; padding: 12px; border-radius: 12px; cursor: pointer;">
                                <i class="fas fa-graduation-cap"></i> ุขููุฒุด
                            </button>
                            <button onclick="quickPublish('article')" style="background: #ed8936; color: white; border: none; padding: 12px; border-radius: 12px; cursor: pointer;">
                                <i class="fas fa-file-alt"></i> ููุงูู
                            </button>
                            <button onclick="quickPublish('note')" style="background: #718096; color: white; border: none; padding: 12px; border-radius: 12px; cursor: pointer;">
                                <i class="fas fa-pen"></i> ุงุฏุฏุงุดุช
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- ============ ุงุชุตุงู GitHub ============ -->
                <div id="section-github" class="section">
                    <h2 style="margin-bottom: 25px; color: #2d3748;">๐ ุงุชุตุงู ุจู GitHub</h2>
                    
                    <div class="grid-2">
                        <div class="card">
                            <h3 style="margin-bottom: 20px; display: flex; align-items: center;">
                                <i class="fab fa-github" style="margin-left: 10px;"></i> ุฑูพู ูุงุฑุณ
                                <span id="faBadge" style="margin-right: 15px; padding: 4px 12px; background: #fed7d7; color: #c53030; border-radius: 50px; font-size: 0.8rem;">ูุทุน</span>
                            </h3>
                            <div class="form-group">
                                <label>ูุงู ฺฉุงุฑุจุฑ</label>
                                <input type="text" id="faUser" class="form-control" value="ghrezaei1399-code">
                            </div>
                            <div class="form-group">
                                <label>ูุงู ูุฎุฒู</label>
                                <input type="text" id="faRepo" class="form-control" value="ghrezaei1399.github.io">
                            </div>
                            <div class="form-group">
                                <label>ุชูฺฉู ุฏุณุชุฑุณ</label>
                                <input type="password" id="faToken" class="form-control" placeholder="ghp_...">
                            </div>
                            <button onclick="testFA()" class="btn" style="width: 100%;">
                                <i class="fas fa-plug"></i> ุชุณุช ุงุชุตุงู
                            </button>
                        </div>
                        
                        <div class="card">
                            <h3 style="margin-bottom: 20px; display: flex; align-items: center;">
                                <i class="fab fa-github" style="margin-left: 10px;"></i> ุฑูพู ุงูฺฏูุณ
                                <span id="enBadge" style="margin-right: 15px; padding: 4px 12px; background: #fed7d7; color: #c53030; border-radius: 50px; font-size: 0.8rem;">ูุทุน</span>
                            </h3>
                            <div class="form-group">
                                <label>ูุงู ฺฉุงุฑุจุฑ</label>
                                <input type="text" id="enUser" class="form-control" value="ghrezaei1399-code">
                            </div>
                            <div class="form-group">
                                <label>ูุงู ูุฎุฒู</label>
                                <input type="text" id="enRepo" class="form-control" value="ghrezaei-english-site">
                            </div>
                            <div class="form-group">
                                <label>ุชูฺฉู ุฏุณุชุฑุณ</label>
                                <input type="password" id="enToken" class="form-control" placeholder="ghp_...">
                            </div>
                            <button onclick="testEN()" class="btn" style="width: 100%;">
                                <i class="fas fa-plug"></i> ุชุณุช ุงุชุตุงู
                            </button>
                        </div>
                    </div>
                    
                    <div class="card">
                        <button onclick="saveGithubConfig()" class="btn btn-success" style="width: 100%;">
                            <i class="fas fa-save"></i> ุฐุฎุฑู ุชูุธูุงุช
                        </button>
                    </div>
                </div>
                
                <!-- ============ ฺฉุชุงุจโูุง ููุชุดุฑ ุดุฏู ============ -->
                <div id="section-books-published" class="section">
                    <div class="category-header">
                        <i class="fas fa-book-open"></i>
                        <h2 style="color: #2d3748;">ฺฉุชุงุจโูุง ููุชุดุฑ ุดุฏู</h2>
                        <span class="badge badge-green" style="margin-right: 15px; font-size: 0.9rem;" id="publishedCountHeader">4 ุนููุงู</span>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">โ ุงูุฒูุฏู ฺฉุชุงุจ ุฌุฏุฏ (ููุชุดุฑ ุดุฏู)</h3>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>ุนููุงู ฺฉุชุงุจ</label>
                                <input type="text" id="publishedTitle" class="form-control" placeholder="ูุซุงู: ููุด ูุตููุน ู ุขูุฏู">
                            </div>
                            <div class="form-group">
                                <label>ุณุงู ุงูุชุดุงุฑ</label>
                                <input type="text" id="publishedYear" class="form-control" placeholder="ฑดฐฒ">
                            </div>
                            <div class="form-group" style="grid-column: span 2;">
                                <label>ุชูุถุญุงุช</label>
                                <textarea id="publishedDesc" class="form-control" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label>ุขุฏุฑุณ ุชุตูุฑ ุฌูุฏ</label>
                                <input type="text" id="publishedImage" class="form-control" placeholder="/images/books/...">
                            </div>
                            <div class="form-group">
                                <label>ููุน ฺฉุชุงุจ</label>
                                <select id="publishedType" class="form-control">
                                    <option value="published">ฺฉุชุงุจ ููุชุดุฑ ุดุฏู</option>
                                    <option value="novel">ุฑูุงู ู ุฏุงุณุชุงู</option>
                                    <option value="educational">ฺฉุชุงุจ ุขููุฒุด</option>
                                </select>
                            </div>
                        </div>
                        <button onclick="addPublishedBook()" class="btn btn-success" style="width: 100%;">
                            <i class="fas fa-cloud-upload-alt"></i> ุงูุชุดุงุฑ ุฏุฑ ุฏู ุฑูพู + ุชุฑุฌูู
                        </button>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">๐ ูุณุช ฺฉุชุงุจโูุง ููุชุดุฑ ุดุฏู</h3>
                        <div id="publishedBooksList"></div>
                    </div>
                </div>
                
                <!-- ============ ุฑูุงู ู ุฏุงุณุชุงู ============ -->
                <div id="section-books-novel" class="section">
                    <div class="category-header">
                        <i class="fas fa-feather"></i>
                        <h2 style="color: #2d3748;">ุฑูุงู ู ุฏุงุณุชุงู</h2>
                        <span class="badge badge-blue" style="margin-right: 15px; font-size: 0.9rem;" id="novelCountHeader">1 ุนููุงู</span>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">โ ุงูุฒูุฏู ุฑูุงู/ุฏุงุณุชุงู ุฌุฏุฏ</h3>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>ุนููุงู ฺฉุชุงุจ</label>
                                <input type="text" id="novelTitle" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>ุณุงู ุงูุชุดุงุฑ</label>
                                <input type="text" id="novelYear" class="form-control">
                            </div>
                            <div class="form-group" style="grid-column: span 2;">
                                <label>ุชูุถุญุงุช</label>
                                <textarea id="novelDesc" class="form-control" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label>ุขุฏุฑุณ ุชุตูุฑ ุฌูุฏ</label>
                                <input type="text" id="novelImage" class="form-control">
                            </div>
                        </div>
                        <button onclick="addNovelBook()" class="btn btn-primary" style="width: 100%;">
                            <i class="fas fa-cloud-upload-alt"></i> ุงูุชุดุงุฑ ุฏุฑ ุฏู ุฑูพู + ุชุฑุฌูู
                        </button>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">๐ ูุณุช ุฑูุงูโูุง ู ุฏุงุณุชุงูโูุง</h3>
                        <div id="novelBooksList"></div>
                    </div>
                </div>
                
                <!-- ============ ฺฉุชุงุจโูุง ุขููุฒุด ============ -->
                <div id="section-books-educational" class="section">
                    <div class="category-header">
                        <i class="fas fa-graduation-cap"></i>
                        <h2 style="color: #2d3748;">ฺฉุชุงุจโูุง ุขููุฒุด</h2>
                        <span class="badge badge-purple" style="margin-right: 15px; font-size: 0.9rem;" id="educationalCountHeader">1 ุนููุงู</span>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">โ ุงูุฒูุฏู ฺฉุชุงุจ ุขููุฒุด</h3>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>ุนููุงู ฺฉุชุงุจ</label>
                                <input type="text" id="educationalTitle" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>ุณุงู ุงูุชุดุงุฑ</label>
                                <input type="text" id="educationalYear" class="form-control">
                            </div>
                            <div class="form-group" style="grid-column: span 2;">
                                <label>ุชูุถุญุงุช</label>
                                <textarea id="educationalDesc" class="form-control" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label>ุขุฏุฑุณ ุชุตูุฑ ุฌูุฏ</label>
                                <input type="text" id="educationalImage" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>ูุถุนุช</label>
                                <select id="educationalStatus" class="form-control">
                                    <option value="published">ููุชุดุฑ ุดุฏู</option>
                                    <option value="pending">ุฏุฑ ุญุงู ุงุฎุฐ ูุฌูุฒ</option>
                                </select>
                            </div>
                        </div>
                        <button onclick="addEducationalBook()" class="btn btn-purple" style="width: 100%;">
                            <i class="fas fa-cloud-upload-alt"></i> ุงูุชุดุงุฑ ุฏุฑ ุฏู ุฑูพู + ุชุฑุฌูู
                        </button>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">๐ ูุณุช ฺฉุชุงุจโูุง ุขููุฒุด</h3>
                        <div id="educationalBooksList"></div>
                    </div>
                </div>
                
                <!-- ============ ุฏุฑ ุญุงู ุงุฎุฐ ูุฌูุฒ ============ -->
                <div id="section-books-pending" class="section">
                    <div class="category-header">
                        <i class="fas fa-clock"></i>
                        <h2 style="color: #2d3748;">ฺฉุชุงุจโูุง ุฏุฑ ุญุงู ุงุฎุฐ ูุฌูุฒ</h2>
                        <span class="badge badge-gold" style="margin-right: 15px; font-size: 0.9rem;" id="pendingCountHeader">13 ุนููุงู</span>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">โ ุงูุฒูุฏู ฺฉุชุงุจ ุฏุฑ ุงูุชุธุงุฑ ูุฌูุฒ</h3>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>ุนููุงู ฺฉุชุงุจ</label>
                                <input type="text" id="pendingTitle" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>ุชุงุฑุฎ ุงุฑุณุงู</label>
                                <input type="text" id="pendingDate" class="form-control">
                            </div>
                            <div class="form-group" style="grid-column: span 2;">
                                <label>ุชูุถุญุงุช</label>
                                <textarea id="pendingDesc" class="form-control" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label>ูุฑุญูู ุงุฎุฐ ูุฌูุฒ</label>
                                <select id="pendingStage" class="form-control">
                                    <option value="review">ุฏุฑ ุญุงู ุจุฑุฑุณ</option>
                                    <option value="editing">ูุฑุงุด</option>
                                    <option value="final">ูุฑุงุญู ููุง</option>
                                </select>
                            </div>
                        </div>
                        <button onclick="addPendingBook()" class="btn btn-warning" style="width: 100%;">
                            <i class="fas fa-save"></i> ุฐุฎุฑู ุฏุฑ ูพูู
                        </button>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">๐ ูุณุช ฺฉุชุงุจโูุง ุฏุฑ ุญุงู ูุฌูุฒ</h3>
                        <div id="pendingBooksList"></div>
                    </div>
                </div>
                
                <!-- ============ ฺฏุงูุฑ ุขุซุงุฑ ููุฑ ============ -->
                <div id="section-gallery-art" class="section">
                    <div class="category-header">
                        <i class="fas fa-paint-brush"></i>
                        <h2 style="color: #2d3748;">ฺฏุงูุฑ ุขุซุงุฑ ููุฑ</h2>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">โ ุงูุฒูุฏู ุงุซุฑ ููุฑ</h3>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>ุนููุงู ุงุซุฑ</label>
                                <input type="text" id="artTitle" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>ุณุงู ุฎูู</label>
                                <input type="text" id="artYear" class="form-control">
                            </div>
                            <div class="form-group" style="grid-column: span 2;">
                                <label>ุชูุถุญุงุช</label>
                                <textarea id="artDesc" class="form-control" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label>ุขุฏุฑุณ ุชุตูุฑ</label>
                                <input type="text" id="artImage" class="form-control" placeholder="/images/art/...">
                            </div>
                            <div class="form-group">
                                <label>ุฏุณุชูโุจูุฏ</label>
                                <select id="artCategory" class="form-control">
                                    <option value="painting">ููุงุด</option>
                                    <option value="calligraphy">ุฎูุดููุณ</option>
                                    <option value="digital">ุฏุฌุชุงู ุขุฑุช</option>
                                </select>
                            </div>
                        </div>
                        <button onclick="addArtwork()" class="btn btn-purple" style="width: 100%;">
                            <i class="fas fa-cloud-upload-alt"></i> ุงูุชุดุงุฑ ุฏุฑ ฺฏุงูุฑ
                        </button>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">๐ผ๏ธ ูพุดโููุงุด ฺฏุงูุฑ</h3>
                        <div class="gallery-preview" id="artGalleryPreview"></div>
                    </div>
                </div>
                
                <!-- ============ ฺฏุงูุฑ ุขุซุงุฑ ุงุฏุจ ============ -->
                <div id="section-gallery-literary" class="section">
                    <div class="category-header">
                        <i class="fas fa-quill"></i>
                        <h2 style="color: #2d3748;">ฺฏุงูุฑ ุขุซุงุฑ ุงุฏุจ</h2>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">โ ุงูุฒูุฏู ุงุซุฑ ุงุฏุจ</h3>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>ุนููุงู ุงุซุฑ</label>
                                <input type="text" id="literaryTitle" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>ุชุงุฑุฎ ูฺฏุงุฑุด</label>
                                <input type="text" id="literaryDate" class="form-control">
                            </div>
                            <div class="form-group" style="grid-column: span 2;">
                                <label>ูุชู/ุชูุถุญุงุช</label>
                                <textarea id="literaryDesc" class="form-control" rows="4"></textarea>
                            </div>
                            <div class="form-group">
                                <label>ููุน ุงุซุฑ</label>
                                <select id="literaryType" class="form-control">
                                    <option value="poem">ุดุนุฑ</option>
                                    <option value="story">ุฏุงุณุชุงู ฺฉูุชุงู</option>
                                    <option value="essay">ุงุฏุฏุงุดุช ุงุฏุจ</option>
                                </select>
                            </div>
                        </div>
                        <button onclick="addLiteraryWork()" class="btn btn-purple" style="width: 100%;">
                            <i class="fas fa-cloud-upload-alt"></i> ุงูุชุดุงุฑ ุฏุฑ ฺฏุงูุฑ
                        </button>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">๐ ูพุดโููุงุด ุขุซุงุฑ ุงุฏุจ</h3>
                        <div id="literaryGalleryPreview"></div>
                    </div>
                </div>
                
                <!-- ============ ุงุณูุงุฏุดู ฺฉุชุงุจโูุง ============ -->
                <div id="section-slideshow-books" class="section">
                    <div class="category-header">
                        <i class="fas fa-play-circle"></i>
                        <h2 style="color: #2d3748;">ุงุณูุงุฏุดู ฺฉุชุงุจโูุง</h2>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">โ ุงูุฒูุฏู ุงุณูุงุฏ ุฌุฏุฏ</h3>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>ุงูุชุฎุงุจ ฺฉุชุงุจ</label>
                                <select id="slideshowBookSelect" class="form-control">
                                    <option value="">-- ุงูุชุฎุงุจ ฺฉูุฏ --</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ุงูููุช ููุงุด</label>
                                <input type="number" id="slideshowPriority" class="form-control" value="1" min="1" max="10">
                            </div>
                        </div>
                        <button onclick="addToBooksSlideshow()" class="btn btn-primary" style="width: 100%;">
                            <i class="fas fa-plus-circle"></i> ุงูุฒูุฏู ุจู ุงุณูุงุฏุดู
                        </button>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">๐ ุงุณูุงุฏูุง ูุนุงู</h3>
                        <div id="booksSlideshowList"></div>
                    </div>
                </div>
                
                <!-- ============ ุงุณูุงุฏุดู ููุงูุงุช ============ -->
                <div id="section-slideshow-articles" class="section">
                    <div class="category-header">
                        <i class="fas fa-sliders-h"></i>
                        <h2 style="color: #2d3748;">ุงุณูุงุฏุดู ููุงูุงุช</h2>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">โ ุงูุฒูุฏู ุงุณูุงุฏ ุฌุฏุฏ</h3>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>ุงูุชุฎุงุจ ููุงูู</label>
                                <select id="slideshowArticleSelect" class="form-control">
                                    <option value="">-- ุงูุชุฎุงุจ ฺฉูุฏ --</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ุงูููุช ููุงุด</label>
                                <input type="number" id="slideshowArticlePriority" class="form-control" value="1">
                            </div>
                        </div>
                        <button onclick="addToArticlesSlideshow()" class="btn btn-primary" style="width: 100%;">
                            <i class="fas fa-plus-circle"></i> ุงูุฒูุฏู ุจู ุงุณูุงุฏุดู
                        </button>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">๐ ุงุณูุงุฏูุง ูุนุงู</h3>
                        <div id="articlesSlideshowList"></div>
                    </div>
                </div>
                
                <!-- ============ ููุงูุงุช ============ -->
                <div id="section-articles" class="section">
                    <h2 style="margin-bottom: 25px; color: #2d3748;">๐ ูุฏุฑุช ููุงูุงุช</h2>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">โ ุงูุฒูุฏู ููุงูู ุฌุฏุฏ</h3>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>ุนููุงู ููุงูู</label>
                                <input type="text" id="articleTitle" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>ุฏุณุชูโุจูุฏ</label>
                                <select id="articleCategory" class="form-control">
                                    <option value="ุนูู">ุนูู</option>
                                    <option value="ูพฺููุด">ูพฺููุด</option>
                                    <option value="ุชุฎุตุต">ุชุฎุตุต</option>
                                </select>
                            </div>
                            <div class="form-group" style="grid-column: span 2;">
                                <label>ฺฉููุงุช ฺฉูุฏ</label>
                                <input type="text" id="articleKeywords" class="form-control">
                            </div>
                            <div class="form-group" style="grid-column: span 2;">
                                <label>ฺฺฉุฏู</label>
                                <textarea id="articleAbstract" class="form-control" rows="4"></textarea>
                            </div>
                            <div class="form-group">
                                <label>ุชุงุฑุฎ ุงูุชุดุงุฑ</label>
                                <input type="text" id="articleDate" class="form-control">
                            </div>
                        </div>
                        <button onclick="addArticle()" class="btn btn-success" style="width: 100%;">
                            <i class="fas fa-cloud-upload-alt"></i> ุงูุชุดุงุฑ ุฏุฑ ุฏู ุฑูพู + ุชุฑุฌูู
                        </button>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">๐ ูุณุช ููุงูุงุช</h3>
                        <div id="articlesList"></div>
                    </div>
                </div>
                
                <!-- ============ ุงุฏุฏุงุดุชโูุง ============ -->
                <div id="section-notes" class="section">
                    <h2 style="margin-bottom: 25px; color: #2d3748;">๐ ุงุฏุฏุงุดุชโูุง ุฑูุฒุงูู</h2>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">โ ุงุฏุฏุงุดุช ุฌุฏุฏ</h3>
                        <div class="form-group">
                            <label>ุนููุงู ุงุฏุฏุงุดุช</label>
                            <input type="text" id="noteTitle" class="form-control">
                        </div>
                        <div class="form-group">
                            <label>ุชุงุฑุฎ</label>
                            <input type="text" id="noteDate" class="form-control">
                        </div>
                        <div class="form-group">
                            <label>ูุชู ุงุฏุฏุงุดุช</label>
                            <textarea id="noteContent" class="form-control" rows="6"></textarea>
                        </div>
                        <button onclick="addNote()" class="btn btn-success" style="width: 100%;">
                            <i class="fas fa-cloud-upload-alt"></i> ุงูุชุดุงุฑ ุฏุฑ ุฏู ุฑูพู + ุชุฑุฌูู
                        </button>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">๐ ุงุฏุฏุงุดุชโูุง ููุชุดุฑุดุฏู</h3>
                        <div id="notesList"></div>
                    </div>
                </div>
                
                <!-- ============ ุญุงูุงู ============ -->
                <div id="section-supporters" class="section">
                    <h2 style="margin-bottom: 25px; color: #2d3748;">๐ ูุฏุฑุช ุญุงูุงู</h2>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">โ ุซุจุช ุญุงู ุฌุฏุฏ</h3>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>ูุงู ุญุงู</label>
                                <input type="text" id="supporterName" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>ููุน ููุงุด</label>
                                <select id="supporterType" class="form-control">
                                    <option value="name">ูุงู ฺฉุงูู</option>
                                    <option value="alias">ูุณุชุนุงุฑ</option>
                                    <option value="anonymous">ูุงุดูุงุณ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ูุจูุบ (ุชููุงู)</label>
                                <input type="text" id="supporterAmount" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>ุชุงุฑุฎ</label>
                                <input type="text" id="supporterDate" class="form-control">
                            </div>
                        </div>
                        <button onclick="addSupporter()" class="btn btn-success" style="width: 100%;">
                            <i class="fas fa-save"></i> ุซุจุช ุฏุฑ ูพูู
                        </button>
                    </div>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">๐ ูุณุช ุญุงูุงู</h3>
                        <div id="supportersList"></div>
                    </div>
                </div>
                
                <!-- ============ ููู ุฏุงูุด ============ -->
                <div id="section-endowment" class="section">
                    <h2 style="margin-bottom: 25px; color: #2d3748;">๐ฐ ููู ุฏุงูุด</h2>
                    
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">๐ ุขูุงุฑ ุดูุงู</h3>
                        <div class="grid-3">
                            <div style="background: #ebf8ff; padding: 25px; border-radius: 16px; text-align: center;">
                                <div style="font-size: 36px; color: #4299e1; margin-bottom: 10px;">๐ฅ</div>
                                <div style="font-size: 32px; font-weight: bold; color: #2d3748;" id="totalSupportersStat">0</div>
                                <div style="color: #718096;">ุชุนุฏุงุฏ ุญุงูุงู</div>
                            </div>
                            <div style="background: #f0fff4; padding: 25px; border-radius: 16px; text-align: center;">
                                <div style="font-size: 36px; color: #48bb78; margin-bottom: 10px;">๐ฐ</div>
                                <div style="font-size: 32px; font-weight: bold; color: #2d3748;" id="totalAmountStat">0</div>
                                <div style="color: #718096;">ุฌูุน ฺฉูฺฉโูุง (ุชููุงู)</div>
                            </div>
                            <div style="background: #fffaf0; padding: 25px; border-radius: 16px; text-align: center;">
                                <div style="font-size: 36px; color: #ed8936; margin-bottom: 10px;">๐</div>
                                <div style="font-size: 32px; font-weight: bold; color: #2d3748;" id="totalStudentsStat">0</div>
                                <div style="color: #718096;">ุฏุงูุดโุขููุฒุงู ุชุญุช ูพูุดุด</div>
                            </div>
                        </div>
                        
                        <div style="background: #f7fafc; padding: 25px; border-radius: 16px; margin-top: 25px;">
                            <p style="color: #4a5568; line-height: 1.8;">
                                <i class="fas fa-shield-alt" style="color: #48bb78; margin-left: 10px;"></i>
                                ุชูุงู ูุจุงูุบ ูุงุฑุฒ ุจู ุญุณุงุจ ุฑุณู ููู ุฏุงูุดุ ุจุง ุงุฑุงุฆู ูุงฺฉุชูุฑ ู ูุฏุฑฺฉุ ุจู ุตูุฑุช ูุงูุงูู ฺฏุฒุงุฑุด ูโุดูุฏ.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // ============ ูุชุบุฑูุง ุณุฑุงุณุฑ ============
        let faManager = null;
        let enManager = null;
        
        // ============ ุงุญุฑุงุฒ ููุช ============
        function login() {
            if (document.getElementById('password').value === 'DrRezaei@1403') {
                document.getElementById('login').style.display = 'none';
                document.getElementById('panel').style.display = 'block';
                loadConfig();
                loadAllData();
                setTodayDate();
                updateAllCounters();
            } else {
                alert('โ ุฑูุฒ ุนุจูุฑ ุงุดุชุจุงู ุงุณุช');
            }
        }
        
        function logout() {
            document.getElementById('login').style.display = 'block';
            document.getElementById('panel').style.display = 'none';
        }
        
        // ============ ููู ============
        document.querySelectorAll('.menu li').forEach(item => {
            item.addEventListener('click', function(e) {
                if (!this.dataset.section) return;
                
                document.querySelectorAll('.menu li').forEach(li => li.classList.remove('active'));
                this.classList.add('active');
                
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                document.getElementById(`section-${this.dataset.section}`).classList.add('active');
            });
        });
        
        // ============ ฺฉูุงุณ GitHub ============
        class GitHubManager {
            constructor(config) {
                this.user = config.user;
                this.repo = config.repo;
                this.token = config.token;
            }
            
            async test() {
                try {
                    const res = await fetch(`https://api.github.com/repos/${this.user}/${this.repo}`, {
                        headers: { 'Authorization': `token ${this.token}` }
                    });
                    return res.ok;
                } catch {
                    return false;
                }
            }
            
            async updateFile(path, content, message) {
                try {
                    const getRes = await fetch(`https://api.github.com/repos/${this.user}/${this.repo}/contents/${path}`, {
                        headers: { 'Authorization': `token ${this.token}` }
                    });
                    
                    let sha = null;
                    if (getRes.status !== 404) {
                        const data = await getRes.json();
                        sha = data.sha;
                    }
                    
                    const body = {
                        message: message,
                        content: btoa(unescape(encodeURIComponent(content))),
                        branch: 'main'
                    };
                    if (sha) body.sha = sha;
                    
                    const res = await fetch(`https://api.github.com/repos/${this.user}/${this.repo}/contents/${path}`, {
                        method: 'PUT',
                        headers: {
                            'Authorization': `token ${this.token}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(body)
                    });
                    return res.ok;
                } catch {
                    return false;
                }
            }
        }
        
        // ============ ุชุฑุฌูู ============
        async function translateText(text) {
            if (!text) return '';
            try {
                const url = `https://translate.googleapis.com/translate_a/single?client=gtx&sl=fa&tl=en&dt=t&q=${encodeURIComponent(text)}`;
                const res = await fetch(url);
                const data = await res.json();
                return data[0].map(item => item[0]).join('');
            } catch {
                return text;
            }
        }
        
        // ============ ุชุณุช ุงุชุตุงู ูุงุฑุณ ============
        async function testFA() {
            const config = {
                user: document.getElementById('faUser').value,
                repo: document.getElementById('faRepo').value,
                token: document.getElementById('faToken').value
            };
            
            const manager = new GitHubManager(config);
            if (await manager.test()) {
                faManager = manager;
                document.getElementById('faBadge').style.background = '#c6f6d5';
                document.getElementById('faBadge').style.color = '#22543d';
                document.getElementById('faBadge').innerHTML = 'ูุชุตู';
                document.getElementById('faStatus').className = 'status status-connected';
                document.getElementById('dashboardFaStatus').className = 'status status-connected';
                document.getElementById('dashboardFaText').innerHTML = 'ูุชุตู';
                saveGithubConfig();
                alert('โ ุงุชุตุงู ุฑูพู ูุงุฑุณ ุจุฑูุฑุงุฑ ุดุฏ');
            } else {
                alert('โ ุงุชุตุงู ูุงูููู');
            }
        }
        
        // ============ ุชุณุช ุงุชุตุงู ุงูฺฏูุณ ============
        async function testEN() {
            const config = {
                user: document.getElementById('enUser').value,
                repo: document.getElementById('enRepo').value,
                token: document.getElementById('enToken').value
            };
            
            const manager = new GitHubManager(config);
            if (await manager.test()) {
                enManager = manager;
                document.getElementById('enBadge').style.background = '#c6f6d5';
                document.getElementById('enBadge').style.color = '#22543d';
                document.getElementById('enBadge').innerHTML = 'ูุชุตู';
                document.getElementById('enStatus').className = 'status status-connected';
                document.getElementById('dashboardEnStatus').className = 'status status-connected';
                document.getElementById('dashboardEnText').innerHTML = 'ูุชุตู';
                saveGithubConfig();
                alert('โ ุงุชุตุงู ุฑูพู ุงูฺฏูุณ ุจุฑูุฑุงุฑ ุดุฏ');
            } else {
                alert('โ ุงุชุตุงู ูุงูููู');
            }
        }
        
        // ============ ุฐุฎุฑู ุชูุธูุงุช ============
        function saveGithubConfig() {
            const config = {
                fa: {
                    user: document.getElementById('faUser').value,
                    repo: document.getElementById('faRepo').value,
                    token: document.getElementById('faToken').value
                },
                en: {
                    user: document.getElementById('enUser').value,
                    repo: document.getElementById('enRepo').value,
                    token: document.getElementById('enToken').value
                }
            };
            localStorage.setItem('github_config', JSON.stringify(config));
            alert('โ ุชูุธูุงุช ุฐุฎุฑู ุดุฏ');
        }
        
        // ============ ุจุงุฑฺฏุฐุงุฑ ุชูุธูุงุช ============
        function loadConfig() {
            const saved = localStorage.getItem('github_config');
            if (saved) {
                const cfg = JSON.parse(saved);
                if (cfg.fa) {
                    document.getElementById('faUser').value = cfg.fa.user || 'ghrezaei1399-code';
                    document.getElementById('faRepo').value = cfg.fa.repo || 'ghrezaei1399.github.io';
                    document.getElementById('faToken').value = cfg.fa.token || '';
                }
                if (cfg.en) {
                    document.getElementById('enUser').value = cfg.en.user || 'ghrezaei1399-code';
                    document.getElementById('enRepo').value = cfg.en.repo || 'ghrezaei-english-site';
                    document.getElementById('enToken').value = cfg.en.token || '';
                }
            }
        }
        
        // ============ ุฏุงุฏูโูุง ูพุดโูุฑุถ ============
        const defaultBooks = {
            published: [
                { id: 1, title: 'ููุด ูุตููุน ู ุขูุฏู ุจุดุฑ', year: 'ฑดฐฑ', desc: 'ุจุฑุฑุณ ุชุฃุซุฑ ููุด ูุตููุน ุจุฑ ุฌุงูุนู ู ูุฑููฺฏ', image: '/images/books/ai-future.jpg' },
                { id: 2, title: 'ูุจุงู ุงุฏฺฏุฑ ุนูู', year: 'ฑดฐฒ', desc: 'ุขููุฒุด ุนูู ุดุจฺฉูโูุง ุนุตุจ', image: '/images/books/deep-learning.jpg' },
                { id: 3, title: 'ุงุฎูุงู ุฏุฑ ููุด ูุตููุน', year: 'ฑดฐฐ', desc: 'ฺุงูุดโูุง ุงุฎูุงู ููุงูุฑโูุง ููู', image: '/images/books/ai-ethics.jpg' },
                { id: 4, title: 'ููุด ูุตููุน ู ุขููุฒุด', year: 'ฑดฐฒ', desc: 'ฺฉุงุฑุจุฑุฏูุง AI ุฏุฑ ูุธุงู ุขููุฒุด', image: '/images/books/ai-education.jpg' }
            ],
            novel: [
                { id: 101, title: 'ุณุงูโูุง ุฏุงุฏู', year: 'ฑดฐฒ', desc: 'ุฑูุงู ุฏุฑุจุงุฑู ุฒูุฏฺฏ ฺฉ ุฏุงูุดููุฏ ููุด ูุตููุน', image: '/images/books/data-shadows.jpg' }
            ],
            educational: [
                { id: 201, title: 'ููุดููุฏูฺฏุงุฑ', year: 'ฑดฐฒ', desc: 'ุฑูุดโูุง ููู ูฺฏุงุฑุด ุจุง ููุด ูุตููุน', image: '/images/books/smart-writing.jpg', status: 'pending' }
            ],
            pending: [
                { id: 301, title: 'ุงูฺฏูุฑุชูโูุง ุจูููโุณุงุฒ', date: 'ฑดฐฒ/ฐน/ฑต', desc: 'ฺฉุชุงุจ ุชุฎุตุต ุงูฺฏูุฑุชูโูุง ูพุดุฑูุชู', stage: 'review' },
                { id: 302, title: 'ุจูุง ฺฉุงููพูุชุฑ', date: 'ฑดฐฒ/ฑฐ/ฐฑ', desc: 'ุขููุฒุด ุนูู ูพุฑุฏุงุฒุด ุชุตูุฑ', stage: 'editing' }
            ]
        };
        
        // ============ ููุฏุงุฑุฏู ุงููู ============
        function initializeData() {
            if (!localStorage.getItem('books_published')) {
                localStorage.setItem('books_published', JSON.stringify(defaultBooks.published));
            }
            if (!localStorage.getItem('books_novel')) {
                localStorage.setItem('books_novel', JSON.stringify(defaultBooks.novel));
            }
            if (!localStorage.getItem('books_educational')) {
                localStorage.setItem('books_educational', JSON.stringify(defaultBooks.educational));
            }
            if (!localStorage.getItem('books_pending')) {
                localStorage.setItem('books_pending', JSON.stringify(defaultBooks.pending));
            }
            if (!localStorage.getItem('articles')) {
                localStorage.setItem('articles', '[]');
            }
            if (!localStorage.getItem('notes')) {
                localStorage.setItem('notes', '[]');
            }
            if (!localStorage.getItem('supporters')) {
                localStorage.setItem('supporters', '[]');
            }
            if (!localStorage.getItem('artworks')) {
                localStorage.setItem('artworks', '[]');
            }
            if (!localStorage.getItem('literary')) {
                localStorage.setItem('literary', '[]');
            }
            if (!localStorage.getItem('books_slideshow')) {
                localStorage.setItem('books_slideshow', '[]');
            }
            if (!localStorage.getItem('articles_slideshow')) {
                localStorage.setItem('articles_slideshow', '[]');
            }
        }
        
        // ============ ุจูโุฑูุฒุฑุณุงู ุดูุงุฑูุฏูโูุง ============
        function updateAllCounters() {
            const published = JSON.parse(localStorage.getItem('books_published') || '[]');
            const novel = JSON.parse(localStorage.getItem('books_novel') || '[]');
            const educational = JSON.parse(localStorage.getItem('books_educational') || '[]');
            const pending = JSON.parse(localStorage.getItem('books_pending') || '[]');
            const articles = JSON.parse(localStorage.getItem('articles') || '[]');
            const notes = JSON.parse(localStorage.getItem('notes') || '[]');
            const supporters = JSON.parse(localStorage.getItem('supporters') || '[]');
            
            document.getElementById('publishedBooksCount').innerHTML = published.length;
            document.getElementById('novelBooksCount').innerHTML = novel.length;
            document.getElementById('educationalBooksCount').innerHTML = educational.length;
            document.getElementById('pendingBooksCount').innerHTML = pending.length;
            
            document.getElementById('statPublishedBooks').innerHTML = published.length;
            document.getElementById('statNovelBooks').innerHTML = novel.length;
            document.getElementById('statEducationalBooks').innerHTML = educational.length;
            document.getElementById('statPendingBooks').innerHTML = pending.length;
            
            document.getElementById('publishedCountHeader').innerHTML = published.length + ' ุนููุงู';
            document.getElementById('novelCountHeader').innerHTML = novel.length + ' ุนููุงู';
            document.getElementById('educationalCountHeader').innerHTML = educational.length + ' ุนููุงู';
            document.getElementById('pendingCountHeader').innerHTML = pending.length + ' ุนููุงู';
            
            document.getElementById('dashboardBooksTotal').innerHTML = published.length + novel.length + educational.length + pending.length;
            document.getElementById('dashboardArticlesTotal').innerHTML = articles.length || 18;
            document.getElementById('dashboardNotesTotal').innerHTML = notes.length;
            document.getElementById('dashboardSupportersTotal').innerHTML = supporters.length;
        }
        
        // ============ ุชุงุฑุฎ ูพุดโูุฑุถ ============
        function setTodayDate() {
            const today = new Date().toLocaleDateString('fa-IR');
            document.getElementById('noteDate').value = today;
            document.getElementById('articleDate').value = today;
            document.getElementById('supporterDate').value = today;
            document.getElementById('pendingDate').value = today;
        }
        
        // ============ ุงูุชุดุงุฑ ุณุฑุน ============
        function quickPublish(type) {
            const sectionMap = {
                'published': 'books-published',
                'novel': 'books-novel',
                'educational': 'books-educational',
                'article': 'articles',
                'note': 'notes'
            };
            
            document.querySelectorAll('.menu li').forEach(li => li.classList.remove('active'));
            document.querySelector(`[data-section="${sectionMap[type]}"]`).classList.add('active');
            
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(`section-${sectionMap[type]}`).classList.add('active');
        }
        
        // ============ ฺฉุชุงุจ ููุชุดุฑ ุดุฏู ============
        async function addPublishedBook() {
            const book = {
                id: Date.now(),
                title: document.getElementById('publishedTitle').value,
                year: document.getElementById('publishedYear').value,
                desc: document.getElementById('publishedDesc').value,
                image: document.getElementById('publishedImage').value || '/images/books/default.jpg',
                type: document.getElementById('publishedType').value,
                date: new Date().toLocaleDateString('fa-IR')
            };
            
            if (!book.title || !book.desc) {
                alert('โ ุนููุงู ู ุชูุถุญุงุช ุงูุฒุงู ุงุณุช');
                return;
            }
            
            let success = 0;
            const fileName = book.title.replace(/[^a-z0-9ุข-]/gi, '-').toLowerCase();
            
            if (faManager) {
                const faHtml = generateBookHTML(book);
                if (await faManager.updateFile(`books/${fileName}.html`, faHtml, `๐ ฺฉุชุงุจ: ${book.title}`)) success++;
            }
            
            if (enManager) {
                const titleEn = await translateText(book.title);
                const descEn = await translateText(book.desc);
                const enHtml = generateEnglishBookHTML({ ...book, titleEn, descEn });
                if (await enManager.updateFile(`books/${fileName}.html`, enHtml, `๐ Book: ${titleEn}`)) success++;
            }
            
            const books = JSON.parse(localStorage.getItem('books_published') || '[]');
            books.push(book);
            localStorage.setItem('books_published', JSON.stringify(books));
            
            alert(`โ ฺฉุชุงุจ ุฏุฑ ${success} ูุฎุฒู ููุชุดุฑ ุดุฏ`);
            
            document.getElementById('publishedTitle').value = '';
            document.getElementById('publishedYear').value = '';
            document.getElementById('publishedDesc').value = '';
            document.getElementById('publishedImage').value = '';
            
            loadPublishedBooks();
            updateAllCounters();
            updateBooksSelect();
        }
        
        function generateBookHTML(book) {
            return `<!DOCTYPE html>
<html dir="rtl" lang="fa">
<head><meta charset="UTF-8"><title>${book.title}</title><style>body{font-family:Vazir,Tahoma;background:#f7f9fc;padding:30px;}.container{max-width:800px;margin:0 auto;background:white;border-radius:20px;padding:30px;}img{max-width:200px;border-radius:12px;}</style></head>
<body><div class="container"><img src="${book.image}"><h1>${book.title}</h1><p>๐ ุณุงู: ${book.year}</p><p>${book.desc}</p></div></body>
</html>`;
        }
        
        function generateEnglishBookHTML(book) {
            return `<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"><title>${book.titleEn}</title><style>body{font-family:Vazir,Tahoma;background:#f7f9fc;padding:30px;}.container{max-width:800px;margin:0 auto;background:white;border-radius:20px;padding:30px;}img{max-width:200px;border-radius:12px;}</style></head>
<body><div class="container"><img src="${book.image}"><h1>${book.titleEn}</h1><p>๐ Year: ${book.year}</p><p>${book.descEn}</p></div></body>
</html>`;
        }
        
        function loadPublishedBooks() {
            const books = JSON.parse(localStorage.getItem('books_published') || '[]');
            let html = '';
            books.reverse().forEach(book => {
                html += `<div class="list-item">
                    <div><strong>${book.title}</strong><br><small style="color: #718096;">๐ ${book.year}</small></div>
                    <button onclick="deletePublishedBook(${book.id})" style="background: #f56565; color: white; border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer;">๐๏ธ</button>
                </div>`;
            });
            document.getElementById('publishedBooksList').innerHTML = html || '<p style="color: #718096;">ูููุฒ ฺฉุชุงุจ ููุชุดุฑ ูุดุฏู</p>';
        }
        
        function deletePublishedBook(id) {
            if (confirm('ุญุฐู ุงุฒ ูุณุช ูพููุ')) {
                let books = JSON.parse(localStorage.getItem('books_published') || '[]');
                books = books.filter(b => b.id !== id);
                localStorage.setItem('books_published', JSON.stringify(books));
                loadPublishedBooks();
                updateAllCounters();
            }
        }
        
        // ============ ุฑูุงู ============
        async function addNovelBook() {
            const book = {
                id: Date.now(),
                title: document.getElementById('novelTitle').value,
                year: document.getElementById('novelYear').value,
                desc: document.getElementById('novelDesc').value,
                image: document.getElementById('novelImage').value || '/images/books/novel-default.jpg',
                date: new Date().toLocaleDateString('fa-IR')
            };
            
            if (!book.title || !book.desc) {
                alert('โ ุนููุงู ู ุชูุถุญุงุช ุงูุฒุงู ุงุณุช');
                return;
            }
            
            let success = 0;
            const fileName = 'novel-' + book.title.replace(/[^a-z0-9ุข-]/gi, '-').toLowerCase();
            
            if (faManager) {
                const faHtml = generateBookHTML(book);
                if (await faManager.updateFile(`books/${fileName}.html`, faHtml, `๐ ุฑูุงู: ${book.title}`)) success++;
            }
            
            if (enManager) {
                const titleEn = await translateText(book.title);
                const descEn = await translateText(book.desc);
                const enHtml = generateEnglishBookHTML({ ...book, titleEn, descEn });
                if (await enManager.updateFile(`books/${fileName}.html`, enHtml, `๐ Novel: ${titleEn}`)) success++;
            }
            
            const books = JSON.parse(localStorage.getItem('books_novel') || '[]');
            books.push(book);
            localStorage.setItem('books_novel', JSON.stringify(books));
            
            alert(`โ ุฑูุงู ุฏุฑ ${success} ูุฎุฒู ููุชุดุฑ ุดุฏ`);
            
            document.getElementById('novelTitle').value = '';
            document.getElementById('novelYear').value = '';
            document.getElementById('novelDesc').value = '';
            document.getElementById('novelImage').value = '';
            
            loadNovelBooks();
            updateAllCounters();
            updateBooksSelect();
        }
        
        function loadNovelBooks() {
            const books = JSON.parse(localStorage.getItem('books_novel') || '[]');
            let html = '';
            books.reverse().forEach(book => {
                html += `<div class="list-item">
                    <div><strong>${book.title}</strong><br><small style="color: #718096;">๐ ${book.year}</small></div>
                    <button onclick="deleteNovelBook(${book.id})" style="background: #f56565; color: white; border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer;">๐๏ธ</button>
                </div>`;
            });
            document.getElementById('novelBooksList').innerHTML = html || '<p style="color: #718096;">ูููุฒ ุฑูุงู ููุชุดุฑ ูุดุฏู</p>';
        }
        
        function deleteNovelBook(id) {
            if (confirm('ุญุฐู ุงุฒ ูุณุช ูพููุ')) {
                let books = JSON.parse(localStorage.getItem('books_novel') || '[]');
                books = books.filter(b => b.id !== id);
                localStorage.setItem('books_novel', JSON.stringify(books));
                loadNovelBooks();
                updateAllCounters();
            }
        }
        
        // ============ ฺฉุชุงุจ ุขููุฒุด ============
        async function addEducationalBook() {
            const book = {
                id: Date.now(),
                title: document.getElementById('educationalTitle').value,
                year: document.getElementById('educationalYear').value,
                desc: document.getElementById('educationalDesc').value,
                image: document.getElementById('educationalImage').value || '/images/books/edu-default.jpg',
                status: document.getElementById('educationalStatus').value,
                date: new Date().toLocaleDateString('fa-IR')
            };
            
            if (!book.title || !book.desc) {
                alert('โ ุนููุงู ู ุชูุถุญุงุช ุงูุฒุงู ุงุณุช');
                return;
            }
            
            let success = 0;
            const fileName = 'educational-' + book.title.replace(/[^a-z0-9ุข-]/gi, '-').toLowerCase();
            
            if (faManager && book.status === 'published') {
                const faHtml = generateBookHTML(book);
                if (await faManager.updateFile(`books/${fileName}.html`, faHtml, `๐ ฺฉุชุงุจ ุขููุฒุด: ${book.title}`)) success++;
            }
            
            if (enManager && book.status === 'published') {
                const titleEn = await translateText(book.title);
                const descEn = await translateText(book.desc);
                const enHtml = generateEnglishBookHTML({ ...book, titleEn, descEn });
                if (await enManager.updateFile(`books/${fileName}.html`, enHtml, `๐ Educational: ${titleEn}`)) success++;
            }
            
            const books = JSON.parse(localStorage.getItem('books_educational') || '[]');
            books.push(book);
            localStorage.setItem('books_educational', JSON.stringify(books));
            
            alert(`โ ฺฉุชุงุจ ุขููุฒุด ุซุจุช ุดุฏ`);
            
            document.getElementById('educationalTitle').value = '';
            document.getElementById('educationalYear').value = '';
            document.getElementById('educationalDesc').value = '';
            document.getElementById('educationalImage').value = '';
            
            loadEducationalBooks();
            updateAllCounters();
            updateBooksSelect();
        }
        
        function loadEducationalBooks() {
            const books = JSON.parse(localStorage.getItem('books_educational') || '[]');
            let html = '';
            books.reverse().forEach(book => {
                const statusBadge = book.status === 'published' ? 
                    '<span style="background: #c6f6d5; color: #22543d; padding: 3px 10px; border-radius: 50px; font-size: 0.7rem;">ููุชุดุฑ ุดุฏู</span>' : 
                    '<span style="background: #fefcbf; color: #744210; padding: 3px 10px; border-radius: 50px; font-size: 0.7rem;">ุฏุฑ ุญุงู ูุฌูุฒ</span>';
                
                html += `<div class="list-item">
                    <div><strong>${book.title}</strong> ${statusBadge}<br><small style="color: #718096;">๐ ${book.year}</small></div>
                    <button onclick="deleteEducationalBook(${book.id})" style="background: #f56565; color: white; border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer;">๐๏ธ</button>
                </div>`;
            });
            document.getElementById('educationalBooksList').innerHTML = html || '<p style="color: #718096;">ูููุฒ ฺฉุชุงุจ ุขููุฒุด ุซุจุช ูุดุฏู</p>';
        }
        
        function deleteEducationalBook(id) {
            if (confirm('ุญุฐู ุงุฒ ูุณุช ูพููุ')) {
                let books = JSON.parse(localStorage.getItem('books_educational') || '[]');
                books = books.filter(b => b.id !== id);
                localStorage.setItem('books_educational', JSON.stringify(books));
                loadEducationalBooks();
                updateAllCounters();
            }
        }
        
        // ============ ฺฉุชุงุจ ุฏุฑ ุญุงู ูุฌูุฒ ============
        function addPendingBook() {
            const book = {
                id: Date.now(),
                title: document.getElementById('pendingTitle').value,
                date: document.getElementById('pendingDate').value,
                desc: document.getElementById('pendingDesc').value,
                stage: document.getElementById('pendingStage').value
            };
            
            if (!book.title) {
                alert('โ ุนููุงู ุงูุฒุงู ุงุณุช');
                return;
            }
            
            const books = JSON.parse(localStorage.getItem('books_pending') || '[]');
            books.push(book);
            localStorage.setItem('books_pending', JSON.stringify(books));
            
            alert('โ ฺฉุชุงุจ ุฏุฑ ูุณุช ุงูุชุธุงุฑ ุซุจุช ุดุฏ');
            
            document.getElementById('pendingTitle').value = '';
            document.getElementById('pendingDesc').value = '';
            
            loadPendingBooks();
            updateAllCounters();
        }
        
        function loadPendingBooks() {
            const books = JSON.parse(localStorage.getItem('books_pending') || '[]');
            let html = '';
            books.reverse().forEach(book => {
                let stageText = '';
                if (book.stage === 'review') stageText = 'ุฏุฑ ุญุงู ุจุฑุฑุณ';
                else if (book.stage === 'editing') stageText = 'ูุฑุงุด';
                else stageText = 'ูุฑุงุญู ููุง';
                
                html += `<div class="list-item">
                    <div><strong>${book.title}</strong><br><small style="color: #ed8936;">โณ ${stageText} | ๐ ${book.date}</small></div>
                    <button onclick="deletePendingBook(${book.id})" style="background: #f56565; color: white; border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer;">๐๏ธ</button>
                </div>`;
            });
            document.getElementById('pendingBooksList').innerHTML = html || '<p style="color: #718096;">ูฺ ฺฉุชุงุจ ุฏุฑ ุงูุชุธุงุฑ ูุฌูุฒ ูุณุช</p>';
        }
        
        function deletePendingBook(id) {
            if (confirm('ุญุฐู ุงุฒ ูุณุช ูพููุ')) {
                let books = JSON.parse(localStorage.getItem('books_pending') || '[]');
                books = books.filter(b => b.id !== id);
                localStorage.setItem('books_pending', JSON.stringify(books));
                loadPendingBooks();
                updateAllCounters();
            }
        }
        
        // ============ ุขุซุงุฑ ููุฑ ============
        function addArtwork() {
            const artwork = {
                id: Date.now(),
                title: document.getElementById('artTitle').value,
                year: document.getElementById('artYear').value,
                desc: document.getElementById('artDesc').value,
                image: document.getElementById('artImage').value || '/images/art/default.jpg',
                category: document.getElementById('artCategory').value
            };
            
            if (!artwork.title) {
                alert('โ ุนููุงู ุงุซุฑ ุงูุฒุงู ุงุณุช');
                return;
            }
            
            const artworks = JSON.parse(localStorage.getItem('artworks') || '[]');
            artworks.push(artwork);
            localStorage.setItem('artworks', JSON.stringify(artworks));
            
            alert('โ ุงุซุฑ ููุฑ ุงูุฒูุฏู ุดุฏ');
            
            document.getElementById('artTitle').value = '';
            document.getElementById('artYear').value = '';
            document.getElementById('artDesc').value = '';
            document.getElementById('artImage').value = '';
            
            loadArtGallery();
        }
        
        function loadArtGallery() {
            const artworks = JSON.parse(localStorage.getItem('artworks') || '[]');
            let html = '';
            artworks.reverse().slice(0, 6).forEach(art => {
                html += `<div class="gallery-item">
                    <i class="fas fa-image"></i>
                    <div style="margin-top: 10px; font-weight: 600;">${art.title}</div>
                    <div style="font-size: 0.7rem; color: #718096;">${art.year || ''}</div>
                </div>`;
            });
            document.getElementById('artGalleryPreview').innerHTML = html || '<p style="color: #718096; grid-column: span 6;">ูููุฒ ุงุซุฑ ุงูุฒูุฏู ูุดุฏู</p>';
        }
        
        // ============ ุขุซุงุฑ ุงุฏุจ ============
        function addLiteraryWork() {
            const work = {
                id: Date.now(),
                title: document.getElementById('literaryTitle').value,
                date: document.getElementById('literaryDate').value,
                desc: document.getElementById('literaryDesc').value,
                type: document.getElementById('literaryType').value
            };
            
            if (!work.title) {
                alert('โ ุนููุงู ุงุซุฑ ุงูุฒุงู ุงุณุช');
                return;
            }
            
            const literary = JSON.parse(localStorage.getItem('literary') || '[]');
            literary.push(work);
            localStorage.setItem('literary', JSON.stringify(literary));
            
            alert('โ ุงุซุฑ ุงุฏุจ ุงูุฒูุฏู ุดุฏ');
            
            document.getElementById('literaryTitle').value = '';
            document.getElementById('literaryDate').value = '';
            document.getElementById('literaryDesc').value = '';
            
            loadLiteraryGallery();
        }
        
        function loadLiteraryGallery() {
            const literary = JSON.parse(localStorage.getItem('literary') || '[]');
            let html = '';
            literary.reverse().slice(0, 5).forEach(work => {
                let typeText = '';
                if (work.type === 'poem') typeText = 'ุดุนุฑ';
                else if (work.type === 'story') typeText = 'ุฏุงุณุชุงู';
                else typeText = 'ุงุฏุฏุงุดุช';
                
                html += `<div style="background: #f7fafc; border-radius: 12px; padding: 20px; margin-bottom: 15px;">
                    <div style="display: flex; justify-content: space-between;">
                        <h4 style="color: #2d3748;">${work.title}</h4>
                        <span style="background: #e9d8fd; color: #553c9a; padding: 4px 12px; border-radius: 50px; font-size: 0.7rem;">${typeText}</span>
                    </div>
                    <p style="color: #718096; margin-top: 10px;">${work.desc.substring(0, 100)}...</p>
                    <p style="color: #a0aec0; font-size: 0.8rem; margin-top: 10px;">๐ ${work.date || ''}</p>
                </div>`;
            });
            document.getElementById('literaryGalleryPreview').innerHTML = html || '<p style="color: #718096;">ูููุฒ ุงุซุฑ ุงูุฒูุฏู ูุดุฏู</p>';
        }
        
        // ============ ุจูโุฑูุฒุฑุณุงู ูุณุช ฺฉุชุงุจโูุง ุจุฑุง ุงุณูุงุฏุดู ============
        function updateBooksSelect() {
            const published = JSON.parse(localStorage.getItem('books_published') || '[]');
            const novel = JSON.parse(localStorage.getItem('books_novel') || '[]');
            const educational = JSON.parse(localStorage.getItem('books_educational') || '[]');
            
            const allBooks = [...published, ...novel, ...educational];
            const select = document.getElementById('slideshowBookSelect');
            
            let options = '<option value="">-- ุงูุชุฎุงุจ ฺฉูุฏ --</option>';
            allBooks.forEach(book => {
                options += `<option value="${book.id}">${book.title}</option>`;
            });
            select.innerHTML = options;
        }
        
        // ============ ุงูุฒูุฏู ุจู ุงุณูุงุฏุดู ฺฉุชุงุจโูุง ============
        function addToBooksSlideshow() {
            const bookId = document.getElementById('slideshowBookSelect').value;
            const priority = document.getElementById('slideshowPriority').value;
            
            if (!bookId) {
                alert('โ ูุทูุงู ฺฉ ฺฉุชุงุจ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ');
                return;
            }
            
            const published = JSON.parse(localStorage.getItem('books_published') || '[]');
            const novel = JSON.parse(localStorage.getItem('books_novel') || '[]');
            const educational = JSON.parse(localStorage.getItem('books_educational') || '[]');
            
            const allBooks = [...published, ...novel, ...educational];
            const book = allBooks.find(b => b.id == bookId);
            
            if (book) {
                const slides = JSON.parse(localStorage.getItem('books_slideshow') || '[]');
                slides.push({
                    id: Date.now(),
                    bookId: book.id,
                    title: book.title,
                    image: book.image,
                    priority: parseInt(priority) || 1
                });
                localStorage.setItem('books_slideshow', JSON.stringify(slides));
                alert('โ ุจู ุงุณูุงุฏุดู ุงุถุงูู ุดุฏ');
                loadBooksSlideshow();
            }
        }
        
        function loadBooksSlideshow() {
            const slides = JSON.parse(localStorage.getItem('books_slideshow') || '[]');
            let html = '';
            slides.sort((a, b) => a.priority - b.priority).forEach(slide => {
                html += `<div class="list-item">
                    <div><strong>${slide.title}</strong><br><small style="color: #4299e1;">ุงูููุช: ${slide.priority}</small></div>
                    <button onclick="deleteBooksSlide(${slide.id})" style="background: #f56565; color: white; border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer;">๐๏ธ</button>
                </div>`;
            });
            document.getElementById('booksSlideshowList').innerHTML = html || '<p style="color: #718096;">ุงุณูุงุฏุดู ุฎุงู ุงุณุช</p>';
        }
        
        function deleteBooksSlide(id) {
            let slides = JSON.parse(localStorage.getItem('books_slideshow') || '[]');
            slides = slides.filter(s => s.id !== id);
            localStorage.setItem('books_slideshow', JSON.stringify(slides));
            loadBooksSlideshow();
        }
        
        // ============ ุจูโุฑูุฒุฑุณุงู ูุณุช ููุงูุงุช ุจุฑุง ุงุณูุงุฏุดู ============
        function updateArticlesSelect() {
            const articles = JSON.parse(localStorage.getItem('articles') || '[]');
            const select = document.getElementById('slideshowArticleSelect');
            
            let options = '<option value="">-- ุงูุชุฎุงุจ ฺฉูุฏ --</option>';
            articles.forEach(article => {
                options += `<option value="${article.id}">${article.title}</option>`;
            });
            select.innerHTML = options;
        }
        
        // ============ ุงูุฒูุฏู ุจู ุงุณูุงุฏุดู ููุงูุงุช ============
        function addToArticlesSlideshow() {
            const articleId = document.getElementById('slideshowArticleSelect').value;
            const priority = document.getElementById('slideshowArticlePriority').value;
            
            if (!articleId) {
                alert('โ ูุทูุงู ฺฉ ููุงูู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ');
                return;
            }
            
            const articles = JSON.parse(localStorage.getItem('articles') || '[]');
            const article = articles.find(a => a.id == articleId);
            
            if (article) {
                const slides = JSON.parse(localStorage.getItem('articles_slideshow') || '[]');
                slides.push({
                    id: Date.now(),
                    articleId: article.id,
                    title: article.title,
                    priority: parseInt(priority) || 1
                });
                localStorage.setItem('articles_slideshow', JSON.stringify(slides));
                alert('โ ุจู ุงุณูุงุฏุดู ุงุถุงูู ุดุฏ');
                loadArticlesSlideshow();
            }
        }
        
        function loadArticlesSlideshow() {
            const slides = JSON.parse(localStorage.getItem('articles_slideshow') || '[]');
            let html = '';
            slides.sort((a, b) => a.priority - b.priority).forEach(slide => {
                html += `<div class="list-item">
                    <div><strong>${slide.title}</strong><br><small style="color: #9f7aea;">ุงูููุช: ${slide.priority}</small></div>
                    <button onclick="deleteArticlesSlide(${slide.id})" style="background: #f56565; color: white; border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer;">๐๏ธ</button>
                </div>`;
            });
            document.getElementById('articlesSlideshowList').innerHTML = html || '<p style="color: #718096;">ุงุณูุงุฏุดู ุฎุงู ุงุณุช</p>';
        }
        
        function deleteArticlesSlide(id) {
            let slides = JSON.parse(localStorage.getItem('articles_slideshow') || '[]');
            slides = slides.filter(s => s.id !== id);
            localStorage.setItem('articles_slideshow', JSON.stringify(slides));
            loadArticlesSlideshow();
        }
        
        // ============ ููุงูู ============
        async function addArticle() {
            const article = {
                id: Date.now(),
                title: document.getElementById('articleTitle').value,
                category: document.getElementById('articleCategory').value,
                keywords: document.getElementById('articleKeywords').value,
                abstract: document.getElementById('articleAbstract').value,
                date: document.getElementById('articleDate').value
            };
            
            if (!article.title || !article.abstract) {
                alert('โ ุนููุงู ู ฺฺฉุฏู ุงูุฒุงู ุงุณุช');
                return;
            }
            
            let success = 0;
            const fileName = article.title.replace(/[^a-z0-9ุข-]/gi, '-').toLowerCase();
            
            if (faManager) {
                const faHtml = generateArticleHTML(article);
                if (await faManager.updateFile(`articles/${fileName}.html`, faHtml, `๐ ููุงูู: ${article.title}`)) success++;
            }
            
            if (enManager) {
                const titleEn = await translateText(article.title);
                const abstractEn = await translateText(article.abstract);
                const keywordsEn = await translateText(article.keywords);
                const enHtml = generateEnglishArticleHTML({ ...article, titleEn, abstractEn, keywordsEn });
                if (await enManager.updateFile(`articles/${fileName}.html`, enHtml, `๐ Article: ${titleEn}`)) success++;
            }
            
            const articles = JSON.parse(localStorage.getItem('articles') || '[]');
            articles.push(article);
            localStorage.setItem('articles', JSON.stringify(articles));
            
            alert(`โ ููุงูู ุฏุฑ ${success} ูุฎุฒู ููุชุดุฑ ุดุฏ`);
            
            document.getElementById('articleTitle').value = '';
            document.getElementById('articleKeywords').value = '';
            document.getElementById('articleAbstract').value = '';
            
            loadArticles();
            updateAllCounters();
            updateArticlesSelect();
        }
        
        function generateArticleHTML(article) {
            return `<!DOCTYPE html>
<html dir="rtl" lang="fa">
<head><meta charset="UTF-8"><title>${article.title}</title><style>body{font-family:Vazir,Tahoma;background:#f7f9fc;padding:30px;}.container{max-width:900px;margin:0 auto;background:white;border-radius:20px;padding:30px;}.keyword{background:#edf2f7;padding:5px 15px;border-radius:50px;display:inline-block;margin:3px;}</style></head>
<body><div class="container"><h1>${article.title}</h1><p>๐ ${article.category} | ๐ ${article.date}</p><div>${article.keywords.split('ุ').map(k => `<span class="keyword">${k}</span>`).join('')}</div><h3>ฺฺฉุฏู</h3><p>${article.abstract}</p></div></body>
</html>`;
        }
        
        function generateEnglishArticleHTML(article) {
            return `<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"><title>${article.titleEn}</title><style>body{font-family:Vazir,Tahoma;background:#f7f9fc;padding:30px;}.container{max-width:900px;margin:0 auto;background:white;border-radius:20px;padding:30px;}.keyword{background:#edf2f7;padding:5px 15px;border-radius:50px;display:inline-block;margin:3px;}</style></head>
<body><div class="container"><h1>${article.titleEn}</h1><p>๐ ${article.category} | ๐ ${article.date}</p><div>${article.keywordsEn.split('ุ').map(k => `<span class="keyword">${k}</span>`).join('')}</div><h3>Abstract</h3><p>${article.abstractEn}</p></div></body>
</html>`;
        }
        
        function loadArticles() {
            const articles = JSON.parse(localStorage.getItem('articles') || '[]');
            let html = '';
            articles.reverse().forEach(article => {
                html += `<div class="list-item">
                    <div><strong>${article.title}</strong><br><small style="color: #718096;">๐ ${article.category} | ๐ ${article.date}</small></div>
                    <button onclick="deleteArticle(${article.id})" style="background: #f56565; color: white; border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer;">๐๏ธ</button>
                </div>`;
            });
            document.getElementById('articlesList').innerHTML = html || '<p style="color: #718096;">ูููุฒ ููุงููโุง ููุชุดุฑ ูุดุฏู</p>';
        }
        
        function deleteArticle(id) {
            if (confirm('ุญุฐู ุงุฒ ูุณุช ูพููุ')) {
                let articles = JSON.parse(localStorage.getItem('articles') || '[]');
                articles = articles.filter(a => a.id !== id);
                localStorage.setItem('articles', JSON.stringify(articles));
                loadArticles();
                updateAllCounters();
                updateArticlesSelect();
            }
        }
        
        // ============ ุงุฏุฏุงุดุช ============
        async function addNote() {
            const note = {
                id: Date.now(),
                title: document.getElementById('noteTitle').value,
                date: document.getElementById('noteDate').value,
                content: document.getElementById('noteContent').value
            };
            
            if (!note.title || !note.content) {
                alert('โ ุนููุงู ู ูุชู ุงุฏุฏุงุดุช ุงูุฒุงู ุงุณุช');
                return;
            }
            
            let success = 0;
            const fileName = note.title.replace(/[^a-z0-9ุข-]/gi, '-').toLowerCase();
            
            if (faManager) {
                const faHtml = generateNoteHTML(note);
                if (await faManager.updateFile(`notes/${fileName}.html`, faHtml, `๐ ุงุฏุฏุงุดุช: ${note.title}`)) success++;
            }
            
            if (enManager) {
                const titleEn = await translateText(note.title);
                const contentEn = await translateText(note.content);
                const enHtml = generateEnglishNoteHTML({ ...note, titleEn, contentEn });
                if (await enManager.updateFile(`notes/${fileName}.html`, enHtml, `๐ Note: ${titleEn}`)) success++;
            }
            
            const notes = JSON.parse(localStorage.getItem('notes') || '[]');
            notes.push(note);
            localStorage.setItem('notes', JSON.stringify(notes));
            
            alert(`โ ุงุฏุฏุงุดุช ุฏุฑ ${success} ูุฎุฒู ููุชุดุฑ ุดุฏ`);
            
            document.getElementById('noteTitle').value = '';
            document.getElementById('noteContent').value = '';
            
            loadNotes();
            updateAllCounters();
        }
        
        function generateNoteHTML(note) {
            return `<!DOCTYPE html>
<html dir="rtl" lang="fa">
<head><meta charset="UTF-8"><title>${note.title}</title><style>body{font-family:Vazir,Tahoma;background:#f7f9fc;padding:30px;}.container{max-width:800px;margin:0 auto;background:white;border-radius:20px;padding:30px;}</style></head>
<body><div class="container"><h1>${note.title}</h1><p>๐ ${note.date}</p><p>${note.content.replace(/\n/g, '<br>')}</p></div></body>
</html>`;
        }
        
        function generateEnglishNoteHTML(note) {
            return `<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"><title>${note.titleEn}</title><style>body{font-family:Vazir,Tahoma;background:#f7f9fc;padding:30px;}.container{max-width:800px;margin:0 auto;background:white;border-radius:20px;padding:30px;}</style></head>
<body><div class="container"><h1>${note.titleEn}</h1><p>๐ ${note.date}</p><p>${note.contentEn.replace(/\n/g, '<br>')}</p></div></body>
</html>`;
        }
        
        function loadNotes() {
            const notes = JSON.parse(localStorage.getItem('notes') || '[]');
            let html = '';
            notes.reverse().forEach(note => {
                html += `<div class="list-item">
                    <div><strong>${note.title}</strong><br><small style="color: #718096;">๐ ${note.date}</small></div>
                    <button onclick="deleteNote(${note.id})" style="background: #f56565; color: white; border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer;">๐๏ธ</button>
                </div>`;
            });
            document.getElementById('notesList').innerHTML = html || '<p style="color: #718096;">ูููุฒ ุงุฏุฏุงุดุช ููุชุดุฑ ูุดุฏู</p>';
        }
        
        function deleteNote(id) {
            if (confirm('ุญุฐู ุงุฒ ูุณุช ูพููุ')) {
                let notes = JSON.parse(localStorage.getItem('notes') || '[]');
                notes = notes.filter(n => n.id !== id);
                localStorage.setItem('notes', JSON.stringify(notes));
                loadNotes();
                updateAllCounters();
            }
        }
        
        // ============ ุญุงู ============
        function addSupporter() {
            const supporter = {
                id: Date.now(),
                name: document.getElementById('supporterName').value,
                type: document.getElementById('supporterType').value,
                amount: document.getElementById('supporterAmount').value,
                date: document.getElementById('supporterDate').value
            };
            
            if (!supporter.name || !supporter.amount) {
                alert('โ ูุงู ู ูุจูุบ ุงูุฒุงู ุงุณุช');
                return;
            }
            
            const supporters = JSON.parse(localStorage.getItem('supporters') || '[]');
            supporters.push(supporter);
            localStorage.setItem('supporters', JSON.stringify(supporters));
            
            alert('โ ุญุงู ุซุจุช ุดุฏ');
            
            document.getElementById('supporterName').value = '';
            document.getElementById('supporterAmount').value = '';
            
            loadSupporters();
            updateAllCounters();
            updateEndowmentStats();
        }
        
        function loadSupporters() {
            const supporters = JSON.parse(localStorage.getItem('supporters') || '[]');
            let html = '';
            supporters.reverse().forEach(s => {
                let displayName = s.name;
                if (s.type === 'alias') displayName = s.name.split(' ')[0] + ' ุนุฒุฒ';
                if (s.type === 'anonymous') displayName = 'ุญุงู ูุงุดูุงุณ';
                
                html += `<div class="list-item">
                    <div><strong>${displayName}</strong><br><small style="color: #48bb78;">๐ฐ ${s.amount} ุชููุงู | ๐ ${s.date}</small></div>
                    <button onclick="deleteSupporter(${s.id})" style="background: #f56565; color: white; border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer;">๐๏ธ</button>
                </div>`;
            });
            document.getElementById('supportersList').innerHTML = html || '<p style="color: #718096;">ูููุฒ ุญุงู ุซุจุช ูุดุฏู</p>';
        }
        
        function deleteSupporter(id) {
            if (confirm('ุญุฐู ุงุฒ ูุณุช ูพููุ')) {
                let supporters = JSON.parse(localStorage.getItem('supporters') || '[]');
                supporters = supporters.filter(s => s.id !== id);
                localStorage.setItem('supporters', JSON.stringify(supporters));
                loadSupporters();
                updateAllCounters();
                updateEndowmentStats();
            }
        }
        
        // ============ ุขูุงุฑ ููู ุฏุงูุด ============
        function updateEndowmentStats() {
            const supporters = JSON.parse(localStorage.getItem('supporters') || '[]');
            document.getElementById('totalSupportersStat').innerHTML = supporters.length;
            
            let total = 0;
            supporters.forEach(s => {
                const num = parseInt(s.amount.replace(/[^\d]/g, ''));
                if (!isNaN(num)) total += num;
            });
            document.getElementById('totalAmountStat').innerHTML = total.toLocaleString();
            document.getElementById('totalStudentsStat').innerHTML = Math.floor(supporters.length * 3.7) || 0;
        }
        
        // ============ ุจุงุฑฺฏุฐุงุฑ ฺฉุงูู ============
        function loadAllData() {
            initializeData();
            
            loadPublishedBooks();
            loadNovelBooks();
            loadEducationalBooks();
            loadPendingBooks();
            loadArtGallery();
            loadLiteraryGallery();
            loadBooksSlideshow();
            loadArticlesSlideshow();
            loadArticles();
            loadNotes();
            loadSupporters();
            
            updateBooksSelect();
            updateArticlesSelect();
            updateEndowmentStats();
            updateAllCounters();
        }
        
        // ============ ุจุงุฑฺฏุฐุงุฑ ุงููู ============
        window.onload = function() {
            initializeData();
        };
    </script>
</body>
</html>
